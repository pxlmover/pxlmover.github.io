<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AudioReactive for Unreal Engine Documentation</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(120deg, #181a2a 0%, #6a5cff 20%, #64b5f6 40%, #a259f7 65%, #ff4e8e 100%);
      color: #e0e0e0;
      font-family: 'Inter', Arial, sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      transition: background 0.6s;
    }
    body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: #181a2acc;
  z-index: -1; /* <-- This ensures it's behind everything */
}
    .header {
      text-align: center;
      padding: 54px 10px 38px 10px; /* Increased bottom padding */
      background: linear-gradient(90deg, #6a5cff, #64b5f6 40%, #a259f7 70%, #81c784 100%);
      color: #181a2a;
      font-family: 'Orbitron', 'Inter', Arial, sans-serif;
      font-size: 3em;
      font-weight: 900;
      letter-spacing: 0.06em;
      filter: drop-shadow(0 2px 18px #222a);
      border-bottom: 2px solid #fff176;
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: header-sheen 6s ease-in-out infinite;
      user-select: none;
    }
    @keyframes header-sheen {
      0%,100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    .header-sub {
      text-align: center;
      font-family: 'Orbitron', 'Inter', Arial, sans-serif;
      font-size: 1.35em;
      font-weight: 700;
      margin-top: 24px;
      margin-bottom: 18px;
      letter-spacing: 0.04em;
      user-select: none;
      background: linear-gradient(90deg, #ff4e8e, #a259f7 40%, #64b5f6 70%, #fff176 100%);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: header-sub-sheen 7s ease-in-out infinite;
      text-shadow: 0 2px 12px #6a5cff44;
    }
    @keyframes header-sub-sheen {
      0%,100% { background-position: 100% 50%; }
      50% { background-position: 0% 50%; }
    }
    .main-container {
      max-width: 620px;
      margin: 36px auto 48px auto;
      padding: 32px 32px 48px 32px;
      background: rgba(24,26,42,0.85);
      border-radius: 32px;
      box-shadow: 0 8px 48px #181a2a44;
      border: 1.5px solid #64b5f633;
    }
    .search-bar {
      display: flex;
      justify-content: center;
      margin: 32px 0 18px 0;
    }
    .search-bar input {
      width: 340px;
      padding: 12px 18px;
      font-size: 1.1em;
      border-radius: 24px;
      border: 1.5px solid #64b5f6;
      background: #181a2a;
      color: #e0e0e0;
      outline: none;
      transition: border 0.2s;
      font-family: 'Inter', Arial, sans-serif;
    }
    .search-bar input:focus {
      border: 2px solid #81c784;
    }
    .categories {
      max-width: 500px; /* Reduced from 820px */
      margin: 0 auto;
      padding: 0 12px 40px 12px;
    }
    .category {
      width: 100%;
      max-width: 500px; /* Ensures bubbles don't stretch wider than container */
      margin-left: auto;
      margin-right: auto;
      background: rgba(60,80,120,0.18);
      border-radius: 18px;
      margin-bottom: 24px;
      box-shadow: 0 4px 32px #0005;
      border: 1.5px solid #64b5f633;
      overflow: hidden;
      transition: box-shadow 0.2s, border-color 0.2s;
      position: relative;
    }
    .category::before {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: 18px;
      pointer-events: none;
      background: linear-gradient(120deg, #fff2 0%, #fff0 100%);
      opacity: 0.25; /* Subtle light sheen */
      z-index: 0;
    }
    .category > * {
      position: relative;
      z-index: 1;
    }
    .category-header {
      display: flex;
      align-items: center;
      cursor: pointer;
      padding: 18px 18px 18px 24px; /* Less left padding, keep right comfortable */
      font-size: 1.3em;
      font-family: 'Orbitron', 'Inter', Arial, sans-serif;
      font-weight: 800;
      background: linear-gradient(90deg, #81c784, #64b5f6, #fff176, #81c784 80%);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: showcase-hue-move 5s ease-in-out infinite;
      filter: drop-shadow(0 2px 8px #222a);
      letter-spacing: 0.03em;
      border-bottom: 1px solid #2226;
      user-select: none;
      justify-content: flex-start; /* Ensures content is left-aligned within the flex container */
    }
    .category-header .icon {
      font-size: 1.3em;
      margin-right: 16px;
      filter: drop-shadow(0 2px 8px #222a);
    }
    .category-content {
      padding: 18px 32px 18px 48px;
      display: none;
      animation: fadeIn 0.4s;
    }
    .category.open .category-content {
      display: block;
    }
    .subcategory {
      margin-bottom: 18px;
    }
    .subcategory-title {
      font-size: 1.08em;
      font-weight: 700;
      color: #64b5f6;
      margin-bottom: 6px;
      font-family: 'Orbitron', 'Inter', Arial, sans-serif;
      letter-spacing: 0.02em;
    }
    .child-list {
      margin-left: 18px;
      margin-bottom: 8px;
      font-size: 1em;
      color: #e0e0e0;
      line-height: 1.5;
    }
    @keyframes showcase-hue-move {
      0%,100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px);}
      to { opacity: 1; transform: translateY(0);}
    }
    @media (max-width: 700px) {
      .header { font-size: 1.3em; padding: 22px 4px 12px 4px; }
      .main-container {
    max-width: 99vw;
    padding: 8vw 2vw 18vw 2vw;
    border-radius: 18px;
  }
      .categories { max-width: 99vw; padding: 0 2vw 24px 2vw; }
      .category-header { font-size: 1em; padding: 12px 12px; }
      .category-content { padding: 12px 12px 12px 28px; }
    }
    .super-container {
  max-width: 1100px;
  margin: 48px auto 48px auto;
  padding: 36px 36px 48px 36px;
  background: rgba(40,48,80,0.22);
  border-radius: 48px;
  box-shadow: 0 12px 64px #181a2a55;
  border: 2px solid #64b5f655;
  position: relative;
}
@media (max-width: 900px) {
  .super-container {
    max-width: 99vw;
    padding: 4vw 2vw 8vw 2vw;
    border-radius: 24px;
  }
}
  </style>
  <!-- Security & CSP -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self' 'unsafe-inline';
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    font-src 'self' https://fonts.gstatic.com;
    img-src 'self' https: data:;
    frame-src https://www.youtube.com;
  ">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
  <meta name="referrer" content="strict-origin-when-cross-origin">
  <meta property="og:title" content="AudioReactive for Unreal Engine Documentation">
<meta property="og:description" content="Interactive docs and guides for AudioReactive UE5.">
<meta property="og:image" content="https://pxlmover.github.io/images/your-og-image.png">
<meta property="og:url" content="https://pxlmover.github.io/GuideAR.html">
</head>
<body>
  <div class="super-container">
  <div class="header">
    AudioReactive
  </div>
  <div class="header-sub">
    Guide & Documentation
  </div>
  <div class="main-container">
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="üîç Ask the mighty search wizard">
    </div>
    <div class="categories" id="categories">
      <!-- Category A -->
      <div class="category">
        <div class="category-header">A - Core Controls</div>
        <div class="category-content">
          <div class="subcategory">
            <a class="subcategory-title"
               href="DOCS/A/PlaybackAndDelay.html"
               style="display:block; text-decoration:none; color:#64b5f6; font-size:1.08em; font-weight:700; font-family:'Orbitron','Inter',Arial,sans-serif; letter-spacing:0.02em; margin-bottom:6px; cursor:pointer;">
              Playback & Timing
            </a>
            <div class="child-list">Set Track Playback Start Time (seek ahead), or set the reaction to start after a specific delay (After Trigger Delay).</div>
          </div>
          <div class="subcategory">
            <a class="subcategory-title"
               href="DOCS/A/RefreshRate.html"
               style="display:block; text-decoration:none; color:#64b5f6; font-size:1.08em; font-weight:700; font-family:'Orbitron','Inter',Arial,sans-serif; letter-spacing:0.02em; margin-bottom:6px; cursor:pointer;">
              Refresh Rate Settings
            </a>
            <div class="child-list">Adjust the master refresh rate of the AudioReactive engine. Lower values (0.01) yield buttery smooth reactions, while higher values (0.1+) give a choppy / stop motion feel.</div>
          </div>
          <div class="subcategory">
            <a class="subcategory-title"
               href="DOCS/A/TriggerTypes.html"
               style="display:block; text-decoration:none; color:#64b5f6; font-size:1.08em; font-weight:700; font-family:'Orbitron','Inter',Arial,sans-serif; letter-spacing:0.02em; margin-bottom:6px; cursor:pointer;">
              Trigger Types (Sequencer/Collision)
            </a>
            <div class="child-list">The BeginPlay Trigger is enabled by default. Enabling Sequencer or Collision Trigger will disable BeginPlay activation.<br>
              <br>Sequencer uses an Event Trigger to start AudioReactive using Custom Event - SEQTRACKTRIGGER</div>
          </div>
          <div class="subcategory">
            <a class="subcategory-title"
               href="DOCS/A/RapidFire.html"
               style="display:block; text-decoration:none; color:#64b5f6; font-size:1.08em; font-weight:700; font-family:'Orbitron','Inter',Arial,sans-serif; letter-spacing:0.02em; margin-bottom:6px; cursor:pointer;">
              Rapid Fire System (Beta)
            </a>
            <div class="child-list">Enable Rapid Fire for repeated reactions. This feature works best with short burst audio tracks of any combination and quantity. Perfect for projectile hits, impacts, and other one-shot effects.<br>
              <br>This allows AudioReactive to be re-triggered using the 'Rapid Fire Reset' Parameter, allowing you to set a cooldown in seconds.</div>
          </div>
        </div>
      </div>
      <!-- Category B -->
      <div class="category">
        <div class="category-header">B - Audio</div>
        <div class="category-content">
          <div class="subcategory">
            <a class="subcategory-title"
               href="DOCS/B/TrackManagement.html"
               style="display:block; text-decoration:none; color:#64b5f6; font-size:1.08em; font-weight:700; font-family:'Orbitron','Inter',Arial,sans-serif; letter-spacing:0.02em; margin-bottom:6px; cursor:pointer;">
              Audio Track Management
            </a>
            <div class="child-list">Add your audio tracks. There is no limit to the number of tracks you can add. Sound Effects, Song Stems, etc.</div>
          </div>
                  <!-- Replace the Peak Visualization Tools subcategory block with this: -->
        <div class="subcategory">
          <a class="subcategory-title"
            href="DOCS/B/PeakVisualization.html"
            style="display:block; text-decoration:none; color:#64b5f6; font-size:1.08em; font-weight:700; font-family:'Orbitron','Inter',Arial,sans-serif; letter-spacing:0.02em; margin-bottom:6px; cursor:pointer;">
            Peak Visualization Tools
          </a>
          <div class="child-list">Visualize audio peaks for accurate audio normalization. Each Audio Track has it's own 'peak' parameter at default 0.36. The lower the value, the louder the reaction from that specific track.</div>
        </div>
          <div class="subcategory">
            <a class="subcategory-title"
              href="DOCS/B/BandSplitting.html"
              style="display:block; text-decoration:none; color:#64b5f6; font-size:1.08em; font-weight:700; font-family:'Orbitron','Inter',Arial,sans-serif; letter-spacing:0.02em; margin-bottom:6px; cursor:pointer;">
            Band Splitting (Beta)
          </a>
          <div class="child-list">Split a track into frequency bands (0-3) and assign them as you would Audio Track numbers (0-3). Enabling Band Mode will disable the Audio Track system.</div>
      </div>
          <div class="subcategory">
            <a class="subcategory-title"
               href="DOCS/B/SmoothingParams.html"
               style="display:block; text-decoration:none; color:#64b5f6; font-size:1.08em; font-weight:700; font-family:'Orbitron','Inter',Arial,sans-serif; letter-spacing:0.02em; margin-bottom:6px; cursor:pointer;">
              Smoothing Parameters (Beta)
            </a>
            <div class="child-list">Fine-tune smoothing for more natural reactions. Control smoothing window, and how much small and large jumps in frequency are independently smoothed out.</div>
          </div>
            <!-- Replace the Live Mode (Beta) subcategory block with this: -->
            <div class="subcategory">
              <a class="subcategory-title"
                href="DOCS/B/LiveMode.html"
                style="display:block; text-decoration:none; color:#64b5f6; font-size:1.08em; font-weight:700; font-family:'Orbitron','Inter',Arial,sans-serif; letter-spacing:0.02em; margin-bottom:6px; cursor:pointer;">
                Live Mode (Beta)
              </a>
              <div class="child-list">Enable live mode for real-time audio input. This feature is very new, super cool, and might still have a bug or two. You know how it is.<br>
              <br>Uses an identical Metasound graph as the Band Mode but with a custom input to bring in live PC audio</div>
            </div>
        </div>
      </div>
      <!-- Category C -->
      <div class="category">
        <div class="category-header">C - Mesh Reaction</div>
        <div class="category-content">
          <div class="subcategory">
            <a class="subcategory-title"
              href="DOCS/C/StaticMeshControl.html"
              style="display:block; text-decoration:none; color:#64b5f6; font-size:1.08em; font-weight:700; font-family:'Orbitron','Inter',Arial,sans-serif; letter-spacing:0.02em; margin-bottom:6px; cursor:pointer;">
              Static Mesh Control
            </a>
            <div class="child-list">Control static mesh parameters with audio.</div>
          </div>
            <div class="subcategory">
              <a class="subcategory-title"
                href="DOCS/C/ActorsWithComponents.html"
                style="display:block; text-decoration:none; color:#64b5f6; font-size:1.08em; font-weight:700; font-family:'Orbitron','Inter',Arial,sans-serif; letter-spacing:0.02em; margin-bottom:6px; cursor:pointer;">
                Actors with Static Mesh Components
              </a>
              <div class="child-list">Animate actors with scale, translation, and rotation.</div>
            </div>
        </div>
      </div>
      <!-- Category D -->
      <div class="category">
        <div class="category-header">D - Light Reaction</div>
        <div class="category-content">
          <div class="subcategory">
            <a class="subcategory-title"
              href="DOCS/D/ReactiveLights.html"
              style="display:block; text-decoration:none; color:#64b5f6; font-size:1.08em; font-weight:700; font-family:'Orbitron','Inter',Arial,sans-serif; letter-spacing:0.02em; margin-bottom:6px; cursor:pointer;">
              Reactive Lights
            </a>
            <div class="child-list">Point Lights, Spot Lights, Directional Lights, and Rect lights.<br><br>Light Intensity Reaction and/or Magnitude Controlled Color Shifting.</div>
          </div><!--
          <div class="subcategory">
            <div class="subcategory-title"
                 data-title="Color Range System"
                 data-desc="Set up color ranges for dynamic lighting."
                 data-img="">
              Color Range System
            </div>
            <div class="child-list">Set up color ranges for dynamic lighting.</div>
          </div>
          <div class="subcategory">
            <div class="subcategory-title"
                 data-title="Intensity Management"
                 data-desc="Manage light intensity for smooth transitions."
                 data-img="">
              Intensity Management
            </div>
            <div class="child-list">Manage light intensity for smooth transitions.</div>
          </div>
          <div class="subcategory">
            <div class="subcategory-title"
                 data-title="Solid Color Override"
                 data-desc="Override colors for specific lighting effects."
                 data-img="">
              Solid Color Override
            </div>
            <div class="child-list">Override colors for specific lighting effects.</div>
          </div>-->
        </div>
      </div>
      <!-- Category E -->
      <div class="category">
        <div class="category-header">E - DMX</div>
        <div class="category-content">
          <div class="subcategory">
            <div class="subcategory-title"
                 data-title="Fixture Groups"
                 data-desc="Organize DMX fixtures into groups for control."
                 data-img="">
              DMX Fixture Setup Widget
            </div>
            <div class="child-list">Prepare fixtures, assign tags, create groups, and manage large DMX setups using handy selection tools.</div>
          </div>
          <div class="subcategory">
            <div class="subcategory-title"
                 data-title="Moving Head Control"
                 data-desc="Control moving head fixtures for dynamic shows."
                 data-img="">
              Moving Head Control
            </div>
            <div class="child-list">Make your Moving Heads AudioReactive<br>Dimmer - Colorwheel - Shutter - Gobo - Zoom - Frost - Pan - Tilt.</div>
          </div>
          <div class="subcategory">
            <div class="subcategory-title"
                 data-title="Static/Strobe/Wash"
                 data-desc="Configure static, strobe, and wash effects."
                 data-img="">
              Static/Strobe/Wash
            </div>
            <div class="child-list">Configure statics, strobes, and washes<br>Dimmer - Color - Shutter.</div>
          </div>
          <div class="subcategory">
            <div class="subcategory-title"
                 data-title="Laser Groups (with beam parameters!)"
                 data-desc="Set up laser groups and beam parameters."
                 data-img="">
              "Lasers"
            </div>
            <div class="child-list">Set up "lasers" individually or in groups.<br>Set static values or set any combination of paramaters to audioreactive.<br>Angle - Length - Beam Count - Beam Width</div>
          </div>
          <div class="subcategory">
            <div class="subcategory-title"
                 data-title="Add Functions (Dimmer, etc.)"
                 data-desc="Add extra functions like dimmer and more."
                 data-img="">
              Adding Functions to Fixtures
            </div>
            <div class="child-list">Functions are good</div>
          </div>
        </div>
      </div>
      <!-- Category F 
      <div class="category">
        <div class="category-header"><span class="icon">üé®</span> F - Mesh & Light Editor Tags</div>
        <div class="category-content">
          <div class="subcategory">
            <div class="subcategory-title"
                 data-title="Face Camera"
                 data-desc="Make meshes or lights always face the camera."
                 data-img="">
              Face Camera
            </div>
            <div class="child-list">Make meshes or lights always face the camera.</div>
          </div>
          <div class="subcategory">
            <div class="subcategory-title"
                 data-title="Scale Controls"
                 data-desc="Control scale parameters for meshes/lights."
                 data-img="">
              Scale Controls
            </div>
            <div class="child-list">Control scale parameters for meshes/lights.</div>
          </div>
          <div class="subcategory">
            <div class="subcategory-title"
                 data-title="Vertical Offset"
                 data-desc="Adjust vertical offset for placement."
                 data-img="">
              Vertical Offset
            </div>
            <div class="child-list">Adjust vertical offset for placement.</div>
          </div>
        </div>
      </div> -->
      <!-- Category G 
      <div class="category">
        <div class="category-header"><span class="icon">üéõÔ∏è</span> G - Master Faders</div>
        <div class="category-content">
          <div class="subcategory">
            <div class="subcategory-title"
                 data-title="Global Gain Controls"
                 data-desc="Master gain controls for all reactions."
                 data-img="">
              Global Gain Controls
            </div>
            <div class="child-list">Master gain controls for all reactions.</div>
          </div>
          <div class="subcategory">
            <div class="subcategory-title"
                 data-title="Master Light/Object/Global"
                 data-desc="Control master faders for lights, objects, and global settings."
                 data-img="">
              Master Light/Object/Global
            </div>
            <div class="child-list">Control master faders for lights, objects, and global settings.</div>-->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Info Card Modal -->
  <div id="info-modal" style="display:none; position:fixed; z-index:99999; top:0; left:0; width:100vw; height:100vh; background:rgba(10,20,40,0.92); backdrop-filter:blur(8px); align-items:center; justify-content:center;">
    <div id="info-modal-content" style="background:#222d; border-radius:18px; box-shadow:0 8px 48px #64b5f6cc; max-width:96vw; max-height:90vh; overflow:auto; padding:32px 24px; color:#e0e0e0; position:relative;">
      <span id="info-modal-close" style="position:absolute;top:18px;right:28px;font-size:2.5em;color:#fff;cursor:pointer;z-index:10;">&times;</span>
      <div id="info-modal-body"></div>
    </div>
  </div>

  <script>
  // Track user-expanded categories
  let userExpandedCategories = new Set();

  // Expand/collapse categories and track user action
  document.querySelectorAll('.category-header').forEach((header, idx) => {
    header.addEventListener('click', function() {
      const parent = this.parentElement;
      parent.classList.toggle('open');
      if (parent.classList.contains('open')) {
        userExpandedCategories.add(idx);
      } else {
        userExpandedCategories.delete(idx);
      }
      // Save to localStorage
      localStorage.setItem('arExpandedCats', JSON.stringify(Array.from(userExpandedCategories)));
    });
  });

  // Simple fuzzy match: returns true if all query words are found in the text (in any order)
  function fuzzyMatch(text, query) {
    const words = query.split(/\s+/).filter(Boolean);
    return words.every(word => text.includes(word));
  }

  // Live search filter (show only matching subcategories, auto-expand matching categories)
  document.getElementById('searchInput').addEventListener('input', function() {
    const query = this.value.trim().toLowerCase();
    document.querySelectorAll('.category').forEach((cat, idx) => {
      let subMatchCount = 0;
      cat.querySelectorAll('.subcategory').forEach(sub => {
        const subText = sub.textContent.toLowerCase();
        if (query === "" || fuzzyMatch(subText, query)) {
          sub.style.display = '';
          subMatchCount++;
        } else {
          sub.style.display = 'none';
        }
      });
      if (query) {
        if (subMatchCount > 0) {
          cat.style.display = '';
          cat.classList.add('open');
        } else {
          cat.style.display = 'none';
          cat.classList.remove('open');
        }
      } else {
        cat.style.display = '';
        if (userExpandedCategories.has(idx)) {
          cat.classList.add('open');
        } else {
          cat.classList.remove('open');
        }
        cat.querySelectorAll('.subcategory').forEach(sub => {
          sub.style.display = '';
        });
      }
    });
  });

    // Info card modal logic
    document.querySelectorAll('.subcategory-title').forEach(title => {
      // Only attach modal logic if it's NOT a link
      if (!title.hasAttribute('href')) {
        title.style.cursor = 'pointer';
        title.addEventListener('click', function(e) {
          const modal = document.getElementById('info-modal');
          const body = document.getElementById('info-modal-body');
          const titleText = this.getAttribute('data-title') || this.textContent;
          const descText = this.getAttribute('data-desc') || '';
          const imgSrc = this.getAttribute('data-img');
          let html = `<h2 style="font-family:'Orbitron','Inter',Arial,sans-serif;font-size:1.4em;color:#64b5f6;margin-bottom:12px;">${titleText}</h2>`;
          html += `<div style="font-size:1.1em;margin-bottom:18px;">${descText}</div>`;
          if (imgSrc) {
            html += `<img src="${imgSrc}" alt="${titleText}" style="max-width:92vw;max-height:60vh;border-radius:12px;box-shadow:0 4px 24px #64b5f6cc;margin-bottom:12px;">`;
          }
          body.innerHTML = html;
          modal.style.display = 'flex';
          document.body.style.overflow = 'hidden';
        });
      }
    });
    document.getElementById('info-modal-close').onclick = function() {
      document.getElementById('info-modal').style.display = 'none';
      document.body.style.overflow = '';
    };
    document.getElementById('info-modal').onclick = function(e) {
      if (e.target === this) {
        this.style.display = 'none';
        document.body.style.overflow = '';
      }
    };

    function escapeHtml(text) {
  const div = document.createElement('div');
  div.textContent = text;
  return div.innerHTML;
}

  // Restore expanded categories from localStorage on page load
  window.addEventListener('DOMContentLoaded', function() {
    const saved = localStorage.getItem('arExpandedCats');
    if (saved) {
      userExpandedCategories = new Set(JSON.parse(saved));
      document.querySelectorAll('.category').forEach((cat, idx) => {
        if (userExpandedCategories.has(idx)) {
          cat.classList.add('open');
        } else {
          cat.classList.remove('open');
        }
      });
    }
  });
  window.addEventListener('DOMContentLoaded', function() {
  const scrollY = localStorage.getItem('guideARScroll');
  if (scrollY) {
    window.scrollTo(0, parseInt(scrollY, 10));
    localStorage.removeItem('guideARScroll');
  }
});
  </script>
</body>
</html>